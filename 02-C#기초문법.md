# 2장. C# 기초 문법

C# 프로그래밍의 기초를 다지는 단계입니다. 이 장에서는 변수, 데이터 타입, 연산자, 그리고 콘솔 입출력 등 C# 프로그래밍의 핵심 구성 요소들을 학습합니다.

## 이 장에서 배울 내용

- **변수와 데이터 타입**: 데이터를 저장하고 관리하는 방법
- **연산자**: 데이터를 조작하고 계산하는 도구들
- **콘솔 입출력**: 사용자와 프로그램이 상호작용하는 방법
- **주석**: 코드를 문서화하고 설명하는 기법

---

## 2.1 변수와 데이터 타입

변수(Variable)는 프로그램에서 데이터를 저장하는 메모리 공간에 붙인 이름입니다. 변수를 사용하면 프로그램 실행 중에 값을 저장하고, 읽고, 수정할 수 있습니다.

### 2.1.1 기본 데이터 타입 (int, string, bool, double)

C#은 정적 타입 언어로, 모든 변수는 선언할 때 타입을 지정해야 합니다. 가장 자주 사용되는 기본 데이터 타입들을 알아봅시다.

#### int (정수형)

정수를 저장하는 32비트 데이터 타입입니다. 약 -21억부터 +21억까지의 범위를 표현할 수 있습니다.

```csharp
// 정수형 변수 선언과 초기화
int age = 25;
int year = 2024;
int temperature = -5;

Console.WriteLine($"나이: {age}");
Console.WriteLine($"연도: {year}");
Console.WriteLine($"온도: {temperature}도");

// 출력:
// 나이: 25
// 연도: 2024
// 온도: -5도
```

**주요 특징:**
- 소수점이 없는 정수만 표현
- 범위: -2,147,483,648 ~ 2,147,483,647
- 사칙연산 가능

#### string (문자열)

텍스트 데이터를 저장하는 타입입니다. 큰따옴표(`"`)로 감싸서 표현합니다.

```csharp
// 문자열 변수 선언
string name = "김철수";
string greeting = "안녕하세요!";
string empty = "";  // 빈 문자열

Console.WriteLine(name);
Console.WriteLine(greeting);

// 문자열 연결
string fullGreeting = greeting + " " + name + "님";
Console.WriteLine(fullGreeting);

// 출력:
// 김철수
// 안녕하세요!
// 안녕하세요! 김철수님
```

**주요 특징:**
- Unicode 문자 지원 (한글, 영어, 특수문자 등)
- 불변(immutable) 타입
- `+` 연산자로 문자열 연결 가능

#### bool (불린형)

참(true) 또는 거짓(false) 두 가지 값만 가질 수 있는 논리 타입입니다.

```csharp
// 불린형 변수
bool isStudent = true;
bool isRaining = false;
bool hasLicense = true;

Console.WriteLine($"학생입니까? {isStudent}");
Console.WriteLine($"비가 오나요? {isRaining}");

// 조건에 따른 출력
if (isStudent)
{
    Console.WriteLine("학생 할인이 적용됩니다.");
}

// 출력:
// 학생입니까? True
// 비가 오나요? False
// 학생 할인이 적용됩니다.
```

**주요 특징:**
- `true` 또는 `false` 값만 가능
- 조건문, 반복문에서 주로 사용
- 비교 연산의 결과값

#### double (실수형)

소수점을 포함하는 숫자를 저장하는 64비트 부동소수점 타입입니다.

```csharp
// 실수형 변수
double pi = 3.14159;
double price = 1500.50;
double temperature = 36.5;

Console.WriteLine($"원주율: {pi}");
Console.WriteLine($"가격: {price}원");
Console.WriteLine($"체온: {temperature}도");

// 계산
double radius = 5.0;
double area = pi * radius * radius;
Console.WriteLine($"반지름 {radius}인 원의 넓이: {area}");

// 출력:
// 원주율: 3.14159
// 가격: 1500.5원
// 체온: 36.5도
// 반지름 5인 원의 넓이: 78.53975
```

**주요 특징:**
- 소수점 이하 약 15-17자리 정밀도
- 과학적 표기법 지원 (예: `1.5e3` = 1500)
- 금융 계산에는 `decimal` 타입 권장

### 2.1.2 var 키워드와 타입 추론

`var` 키워드를 사용하면 컴파일러가 할당된 값을 보고 자동으로 변수의 타입을 추론합니다.

```csharp
// var를 사용한 타입 추론
var number = 10;           // int로 추론
var message = "Hello";     // string으로 추론
var isValid = true;        // bool로 추론
var price = 99.99;         // double로 추론

Console.WriteLine($"number의 타입: {number.GetType()}");
Console.WriteLine($"message의 타입: {message.GetType()}");

// 출력:
// number의 타입: System.Int32
// message의 타입: System.String
```

**var 사용 규칙:**
- 지역 변수에만 사용 가능
- 선언과 동시에 초기화 필요
- 초기화 후 타입 변경 불가

```csharp
// 올바른 사용
var name = "홍길동";

// 잘못된 사용
// var age;              // ❌ 초기화 없이 선언 불가
// var value = null;     // ❌ null로는 타입 추론 불가
```

**언제 var를 사용할까?**
- 타입이 명확한 경우 (오른쪽 할당값에서 타입을 쉽게 알 수 있을 때)
- 긴 타입 이름을 반복하고 싶지 않을 때
- LINQ 쿼리 결과나 익명 타입을 다룰 때

### 2.1.3 상수 (const)

상수는 프로그램 실행 중 값이 변경되지 않는 변수입니다. `const` 키워드를 사용하여 선언합니다.

```csharp
// 상수 선언
const double PI = 3.14159;
const int MAX_STUDENTS = 30;
const string COMPANY_NAME = "ABC Corporation";

Console.WriteLine($"원주율: {PI}");
Console.WriteLine($"최대 학생 수: {MAX_STUDENTS}");
Console.WriteLine($"회사명: {COMPANY_NAME}");

// PI = 3.14;  // ❌ 컴파일 오류: 상수는 값을 변경할 수 없음

// 출력:
// 원주율: 3.14159
// 최대 학생 수: 30
// 회사명: ABC Corporation
```

**상수의 특징:**
- 선언과 동시에 초기화 필요
- 실행 중 값 변경 불가
- 컴파일 타임에 값이 결정됨
- 일반적으로 대문자와 언더스코어로 명명

**상수 vs 변수:**

```csharp
// 변수 - 값 변경 가능
var count = 10;
count = 20;  // ✅ 가능

// 상수 - 값 변경 불가
const int MAX_COUNT = 100;
// MAX_COUNT = 200;  // ❌ 컴파일 오류
```

---

## 2.2 연산자

연산자는 변수나 값에 대해 연산을 수행하는 기호입니다. C#은 다양한 종류의 연산자를 제공합니다.

### 2.2.1 산술 연산자

수학적 계산을 수행하는 연산자입니다.

```csharp
// 산술 연산자
int a = 10;
int b = 3;

Console.WriteLine($"a + b = {a + b}");  // 덧셈: 13
Console.WriteLine($"a - b = {a - b}");  // 뺄셈: 7
Console.WriteLine($"a * b = {a * b}");  // 곱셈: 30
Console.WriteLine($"a / b = {a / b}");  // 나눗셈(몫): 3
Console.WriteLine($"a % b = {a % b}");  // 나머지: 1

// 실수 나눗셈
double x = 10.0;
double y = 3.0;
Console.WriteLine($"x / y = {x / y}");  // 3.3333333333333335
```

**주요 산술 연산자:**

| 연산자 | 의미 | 예제 | 결과 |
|--------|------|------|------|
| `+` | 덧셈 | `5 + 3` | `8` |
| `-` | 뺄셈 | `5 - 3` | `2` |
| `*` | 곱셈 | `5 * 3` | `15` |
| `/` | 나눗셈 | `5 / 3` | `1` (정수), `1.666...` (실수) |
| `%` | 나머지 | `5 % 3` | `2` |

**복합 대입 연산자:**

```csharp
int num = 10;

num += 5;  // num = num + 5;  결과: 15
num -= 3;  // num = num - 3;  결과: 12
num *= 2;  // num = num * 2;  결과: 24
num /= 4;  // num = num / 4;  결과: 6
num %= 4;  // num = num % 4;  결과: 2

Console.WriteLine($"최종 값: {num}");  // 2
```

**증감 연산자:**

```csharp
int count = 5;

count++;  // 후위 증가: count = count + 1
Console.WriteLine(count);  // 6

++count;  // 전위 증가: count = count + 1
Console.WriteLine(count);  // 7

count--;  // 후위 감소: count = count - 1
Console.WriteLine(count);  // 6

--count;  // 전위 감소: count = count - 1
Console.WriteLine(count);  // 5
```

### 2.2.2 비교 연산자

두 값을 비교하여 `true` 또는 `false`를 반환하는 연산자입니다.

```csharp
int x = 10;
int y = 20;

Console.WriteLine($"x == y: {x == y}");  // 같음: False
Console.WriteLine($"x != y: {x != y}");  // 같지 않음: True
Console.WriteLine($"x > y: {x > y}");    // 크다: False
Console.WriteLine($"x < y: {x < y}");    // 작다: True
Console.WriteLine($"x >= y: {x >= y}");  // 크거나 같다: False
Console.WriteLine($"x <= y: {x <= y}");  // 작거나 같다: True
```

**주요 비교 연산자:**

| 연산자 | 의미 | 예제 | 결과 |
|--------|------|------|------|
| `==` | 같다 | `5 == 5` | `true` |
| `!=` | 같지 않다 | `5 != 3` | `true` |
| `>` | 크다 | `5 > 3` | `true` |
| `<` | 작다 | `5 < 3` | `false` |
| `>=` | 크거나 같다 | `5 >= 5` | `true` |
| `<=` | 작거나 같다 | `5 <= 3` | `false` |

**문자열 비교:**

```csharp
string name1 = "Alice";
string name2 = "Bob";
string name3 = "Alice";

Console.WriteLine(name1 == name2);  // False
Console.WriteLine(name1 == name3);  // True
Console.WriteLine(name1 != name2);  // True
```

### 2.2.3 논리 연산자

불린(bool) 값을 대상으로 논리 연산을 수행합니다.

```csharp
bool isStudent = true;
bool hasID = false;

// AND 연산자 (&&): 둘 다 true일 때만 true
Console.WriteLine($"isStudent && hasID: {isStudent && hasID}");  // False

// OR 연산자 (||): 하나라도 true면 true
Console.WriteLine($"isStudent || hasID: {isStudent || hasID}");  // True

// NOT 연산자 (!): 반대 값
Console.WriteLine($"!isStudent: {!isStudent}");  // False
Console.WriteLine($"!hasID: {!hasID}");          // True
```

**주요 논리 연산자:**

| 연산자 | 의미 | 예제 | 결과 |
|--------|------|------|------|
| `&&` | AND (그리고) | `true && false` | `false` |
| `||` | OR (또는) | `true || false` | `true` |
| `!` | NOT (부정) | `!true` | `false` |

**실용 예제:**

```csharp
int age = 20;
bool hasTicket = true;

// 18세 이상이고 티켓이 있으면 입장 가능
bool canEnter = age >= 18 && hasTicket;
Console.WriteLine($"입장 가능: {canEnter}");  // True

// 학생이거나 65세 이상이면 할인
bool isStudent = false;
int customerAge = 70;
bool getDiscount = isStudent || customerAge >= 65;
Console.WriteLine($"할인 적용: {getDiscount}");  // True
```

**단축 평가 (Short-circuit Evaluation):**

```csharp
// && 연산: 왼쪽이 false면 오른쪽은 평가하지 않음
bool result1 = false && SomeMethod();  // SomeMethod() 호출 안 됨

// || 연산: 왼쪽이 true면 오른쪽은 평가하지 않음
bool result2 = true || SomeMethod();   // SomeMethod() 호출 안 됨
```

### 2.2.4 대입 연산자

변수에 값을 할당하는 연산자입니다.

```csharp
// 기본 대입
int x = 10;
string name = "홍길동";

// 복합 대입 연산자
int a = 5;
a += 3;   // a = a + 3;   결과: 8
a -= 2;   // a = a - 2;   결과: 6
a *= 4;   // a = a * 4;   결과: 24
a /= 3;   // a = a / 3;   결과: 8
a %= 5;   // a = a % 5;   결과: 3

Console.WriteLine($"최종 a 값: {a}");
```

**모든 복합 대입 연산자:**

| 연산자 | 동일 표현 | 예제 |
|--------|----------|------|
| `+=` | `x = x + y` | `x += 5` |
| `-=` | `x = x - y` | `x -= 3` |
| `*=` | `x = x * y` | `x *= 2` |
| `/=` | `x = x / y` | `x /= 4` |
| `%=` | `x = x % y` | `x %= 3` |

**연쇄 대입:**

```csharp
int a, b, c;
a = b = c = 10;  // 모든 변수에 10 할당

Console.WriteLine($"a={a}, b={b}, c={c}");  // a=10, b=10, c=10
```

---

## 2.3 콘솔 입출력

콘솔 입출력은 사용자와 프로그램이 상호작용하는 가장 기본적인 방법입니다.

### 2.3.1 Console.WriteLine()

콘솔에 텍스트를 출력하고 자동으로 줄을 바꿉니다.

```csharp
// 기본 출력
Console.WriteLine("Hello, World!");
Console.WriteLine("안녕하세요!");

// 여러 줄 출력
Console.WriteLine("첫 번째 줄");
Console.WriteLine("두 번째 줄");
Console.WriteLine("세 번째 줄");

// 출력:
// Hello, World!
// 안녕하세요!
// 첫 번째 줄
// 두 번째 줄
// 세 번째 줄
```

**변수 출력:**

```csharp
int age = 25;
string name = "김철수";

Console.WriteLine(name);
Console.WriteLine(age);

// 문자열 연결로 출력
Console.WriteLine("이름: " + name);
Console.WriteLine("나이: " + age);

// 출력:
// 김철수
// 25
// 이름: 김철수
// 나이: 25
```

**Console.Write() vs Console.WriteLine():**

```csharp
// WriteLine - 줄바꿈 포함
Console.WriteLine("첫 번째");
Console.WriteLine("두 번째");

// Write - 줄바꿈 없음
Console.Write("첫 번째 ");
Console.Write("두 번째");
Console.WriteLine();  // 수동 줄바꿈

// 출력:
// 첫 번째
// 두 번째
// 첫 번째 두 번째
```

### 2.3.2 Console.ReadLine()

사용자로부터 입력을 받는 메서드입니다. 항상 `string` 타입으로 반환합니다.

```csharp
// 사용자 입력 받기
Console.Write("이름을 입력하세요: ");
string name = Console.ReadLine();

Console.Write("나이를 입력하세요: ");
string ageInput = Console.ReadLine();

Console.WriteLine($"안녕하세요, {name}님!");
Console.WriteLine($"입력하신 나이: {ageInput}");

// 실행 예:
// 이름을 입력하세요: 홍길동
// 나이를 입력하세요: 30
// 안녕하세요, 홍길동님!
// 입력하신 나이: 30
```

**타입 변환:**

`ReadLine()`은 항상 문자열을 반환하므로, 숫자로 사용하려면 변환이 필요합니다.

```csharp
// 문자열을 정수로 변환
Console.Write("숫자를 입력하세요: ");
string input = Console.ReadLine();
int number = int.Parse(input);

Console.WriteLine($"입력한 숫자 + 10 = {number + 10}");

// 더 안전한 변환 (TryParse)
Console.Write("나이를 입력하세요: ");
string ageInput = Console.ReadLine();

if (int.TryParse(ageInput, out int age))
{
    Console.WriteLine($"내년 나이: {age + 1}");
}
else
{
    Console.WriteLine("올바른 숫자를 입력해주세요.");
}
```

**다양한 타입 변환:**

```csharp
// 정수 변환
int num = int.Parse("123");

// 실수 변환
double price = double.Parse("99.99");

// 불린 변환
bool flag = bool.Parse("true");

Console.WriteLine($"숫자: {num}");
Console.WriteLine($"가격: {price}");
Console.WriteLine($"플래그: {flag}");
```

### 2.3.3 문자열 보간 (String Interpolation)

문자열 보간은 문자열 내에 변수나 표현식을 직접 삽입하는 현대적이고 가독성 높은 방법입니다.

```csharp
string name = "이영희";
int age = 28;
string city = "서울";

// 문자열 보간 사용 ($ 기호)
Console.WriteLine($"이름: {name}");
Console.WriteLine($"나이: {age}");
Console.WriteLine($"도시: {city}");

// 복잡한 문장
Console.WriteLine($"{name}님은 {age}살이며, {city}에 거주합니다.");

// 출력:
// 이름: 이영희
// 나이: 28
// 도시: 서울
// 이영희님은 28살이며, 서울에 거주합니다.
```

**표현식 사용:**

```csharp
int a = 10;
int b = 20;

// 중괄호 안에 표현식 사용 가능
Console.WriteLine($"a + b = {a + b}");
Console.WriteLine($"a * b = {a * b}");
Console.WriteLine($"a > b: {a > b}");

// 메서드 호출
string text = "hello";
Console.WriteLine($"대문자: {text.ToUpper()}");

// 출력:
// a + b = 30
// a * b = 200
// a > b: False
// 대문자: HELLO
```

**서식 지정:**

```csharp
double pi = 3.14159265;
int number = 42;

// 소수점 자릿수 지정
Console.WriteLine($"PI (소수점 2자리): {pi:F2}");

// 통화 형식
double price = 1234.56;
Console.WriteLine($"가격: {price:C}");

// 퍼센트 형식
double rate = 0.856;
Console.WriteLine($"비율: {rate:P1}");

// 출력:
// PI (소수점 2자리): 3.14
// 가격: ₩1,234.56
// 비율: 85.6%
```

**기존 방식과 비교:**

```csharp
string name = "김민수";
int age = 25;

// 방법 1: 문자열 연결 (오래된 방식)
Console.WriteLine("이름: " + name + ", 나이: " + age);

// 방법 2: String.Format (중간 방식)
Console.WriteLine(String.Format("이름: {0}, 나이: {1}", name, age));

// 방법 3: 문자열 보간 (현대적 방식, 권장)
Console.WriteLine($"이름: {name}, 나이: {age}");

// 모두 동일한 출력:
// 이름: 김민수, 나이: 25
```

---

## 2.4 주석 작성하기

주석(Comment)은 코드에 설명을 추가하는 방법입니다. 주석은 컴파일러가 무시하므로 프로그램 실행에 영향을 주지 않습니다.

### 단일 행 주석

`//`로 시작하는 한 줄 주석입니다.

```csharp
// 이것은 주석입니다.
Console.WriteLine("Hello");  // 코드 옆에도 주석 가능

// 변수 선언
int age = 25;

// 여러 줄을 주석 처리할 때
// 각 줄마다 // 를 붙입니다.
// 이렇게 말이죠.
```

### 여러 줄 주석

`/*`로 시작해서 `*/`로 끝나는 여러 줄 주석입니다.

```csharp
/*
   이것은 여러 줄 주석입니다.
   여러 줄에 걸쳐 설명을 작성할 수 있습니다.
   코드 블록을 임시로 비활성화할 때도 유용합니다.
*/

Console.WriteLine("Hello");

/*
Console.WriteLine("이 코드는 실행되지 않습니다");
Console.WriteLine("주석 처리되었기 때문입니다");
*/
```

### XML 문서 주석

`///`로 시작하는 문서화 주석으로, 코드의 API 문서를 자동 생성할 때 사용됩니다.

```csharp
/// <summary>
/// 두 정수의 합을 계산합니다.
/// </summary>
/// <param name="a">첫 번째 정수</param>
/// <param name="param name="b">두 번째 정수</param>
/// <returns>두 정수의 합</returns>
int Add(int a, int b)
{
    return a + b;
}
```

### 주석 작성 모범 사례

**좋은 주석:**

```csharp
// 사용자 나이를 검증 (18세 이상만 허용)
if (age >= 18)
{
    Console.WriteLine("입장 가능");
}

// TODO: 추후 이메일 검증 로직 추가 필요
string email = Console.ReadLine();

// HACK: 임시 해결책 - 추후 리팩토링 필요
const int TEMP_LIMIT = 100;
```

**피해야 할 주석:**

```csharp
// 나쁜 예: 코드를 그대로 설명
int x = 10;  // x에 10을 할당

// 나쁜 예: 명백한 내용 반복
Console.WriteLine("Hello");  // Hello 출력

// 좋은 예: 왜 그렇게 했는지 설명
int timeout = 30;  // API 응답 대기 시간 (초단위)
```

### 주석 사용 가이드

1. **코드 자체가 설명이 되도록 작성** - 명확한 변수명과 함수명 사용
2. **"왜"를 설명** - "무엇을" 하는지는 코드가 보여줌, "왜" 하는지를 주석으로 설명
3. **TODO, FIXME, HACK 등의 태그 활용** - 추후 작업이 필요한 부분 표시
4. **오래된 주석 제거** - 코드가 변경되면 관련 주석도 업데이트하거나 제거
5. **과도한 주석 지양** - 코드가 복잡하면 리팩토링 고려

```csharp
// 좋은 주석 예제
var maxRetries = 3;  // 네트워크 불안정을 고려한 재시도 횟수

// 나쁜 주석 예제
var x = 3;  // x는 3입니다
```

---

## 2장 정리 및 요약

이 장에서는 C# 프로그래밍의 기초 문법을 학습했습니다.

### 핵심 개념 정리

1. **변수와 데이터 타입**
   - 기본 타입: `int`, `string`, `bool`, `double`
   - `var` 키워드를 통한 타입 추론
   - `const`를 사용한 상수 선언

2. **연산자**
   - 산술 연산자: `+`, `-`, `*`, `/`, `%`
   - 비교 연산자: `==`, `!=`, `>`, `<`, `>=`, `<=`
   - 논리 연산자: `&&`, `||`, `!`
   - 대입 연산자: `=`, `+=`, `-=`, `*=`, `/=`, `%=`

3. **콘솔 입출력**
   - `Console.WriteLine()`: 출력 후 줄바꿈
   - `Console.ReadLine()`: 사용자 입력 받기
   - 문자열 보간: `$"text {variable}"`

4. **주석**
   - 단일 행: `//`
   - 여러 줄: `/* */`
   - XML 문서: `///`

### 실습 문제

#### 문제 1: 개인 정보 입력 및 출력

사용자로부터 이름, 나이, 도시를 입력받아 출력하는 프로그램을 작성하세요.

```csharp
Console.Write("이름을 입력하세요: ");
var name = Console.ReadLine();

Console.Write("나이를 입력하세요: ");
var ageInput = Console.ReadLine();
var age = int.Parse(ageInput);

Console.Write("거주 도시를 입력하세요: ");
var city = Console.ReadLine();

Console.WriteLine($"\n=== 입력하신 정보 ===");
Console.WriteLine($"이름: {name}");
Console.WriteLine($"나이: {age}세");
Console.WriteLine($"도시: {city}");
```

#### 문제 2: 간단한 계산기

두 숫자를 입력받아 사칙연산 결과를 모두 출력하는 프로그램을 작성하세요.

```csharp
Console.Write("첫 번째 숫자: ");
var num1 = double.Parse(Console.ReadLine());

Console.Write("두 번째 숫자: ");
var num2 = double.Parse(Console.ReadLine());

Console.WriteLine($"\n=== 연산 결과 ===");
Console.WriteLine($"{num1} + {num2} = {num1 + num2}");
Console.WriteLine($"{num1} - {num2} = {num1 - num2}");
Console.WriteLine($"{num1} × {num2} = {num1 * num2}");
Console.WriteLine($"{num1} ÷ {num2} = {num1 / num2}");
```

#### 문제 3: 성인 판별 프로그램

나이를 입력받아 성인인지 미성년자인지 판별하는 프로그램을 작성하세요.

```csharp
Console.Write("나이를 입력하세요: ");
var age = int.Parse(Console.ReadLine());

var isAdult = age >= 18;

Console.WriteLine($"입력 나이: {age}세");
Console.WriteLine($"성인 여부: {isAdult}");

if (isAdult)
{
    Console.WriteLine("성인입니다.");
}
else
{
    Console.WriteLine("미성년자입니다.");
}
```

### 다음 장 예고

3장 "제어문"에서는 프로그램의 흐름을 제어하는 방법을 학습합니다:
- 조건문 (`if`, `else`, `switch`)
- 반복문 (`for`, `while`, `foreach`)
- 분기문 (`break`, `continue`, `return`)

이를 통해 더욱 복잡하고 동적인 프로그램을 작성할 수 있게 됩니다!
